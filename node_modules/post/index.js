var fs = require('fs')
var path = require('path')

var filePath = path.join(__dirname, "../..", 'postsData.json')

function readPosts() {
  if (!fs.existsSync(filePath)) 
    return []
  var data = fs.readFileSync(filePath);
  return JSON.parse(data);
}

function writePosts(posts) {
  fs.writeFileSync(filePath, JSON.stringify(posts, null, 2));
}


module.exports = {
    getPosts: function(id) {
        var posts = readPosts();
        var userPosts = [];

        for(var i = 0; i < posts.length; i++) {
            if(posts[i].id == id) {
                userPosts.push(posts[i]);
            }
        }

        return userPosts;
    }
}